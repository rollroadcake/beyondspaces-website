(()=>{"use strict";var e={669:e=>{e.exports=jQuery}},t={};function a(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i](r,r.exports,a),r.exports}(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t){var a=function(t,a){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,a||"default");if("object"!=e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(t)}(t,"string");return"symbol"==e(a)?a:a+""}function i(e,a,i){return(a=t(a))in e?Object.defineProperty(e,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[a]=i,e}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}function r(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return null!=e&&"object"==typeof e&&!0===e["@@functional/placeholder"]}function l(e){return function t(a){return 0===arguments.length||o(a)?t:e.apply(this,arguments)}}function c(e,t){return Object.prototype.hasOwnProperty.call(t,e)}var s=Object.prototype.toString;const d=function(){return"[object Arguments]"===s.call(arguments)?function(e){return"[object Arguments]"===s.call(e)}:function(e){return c("callee",e)}}(),u=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};function p(e){return"[object String]"===Object.prototype.toString.call(e)}var f=l((function(e){return null!=e&&"function"==typeof e["fantasy-land/empty"]?e["fantasy-land/empty"]():null!=e&&null!=e.constructor&&"function"==typeof e.constructor["fantasy-land/empty"]?e.constructor["fantasy-land/empty"]():null!=e&&"function"==typeof e.empty?e.empty():null!=e&&null!=e.constructor&&"function"==typeof e.constructor.empty?e.constructor.empty():u(e)?[]:p(e)?"":function(e){return"[object Object]"===Object.prototype.toString.call(e)}(e)?{}:d(e)?function(){return arguments}():function(e){var t=Object.prototype.toString.call(e);return"[object Uint8ClampedArray]"===t||"[object Int8Array]"===t||"[object Uint8Array]"===t||"[object Int16Array]"===t||"[object Uint16Array]"===t||"[object Int32Array]"===t||"[object Uint32Array]"===t||"[object Float32Array]"===t||"[object Float64Array]"===t||"[object BigInt64Array]"===t||"[object BigUint64Array]"===t}(e)?e.constructor.from(""):void 0}));const m=f;function g(e){return function t(a,i){switch(arguments.length){case 0:return t;case 1:return o(a)?t:l((function(t){return e(a,t)}));default:return o(a)&&o(i)?t:o(a)?l((function(t){return e(t,i)})):o(i)?l((function(t){return e(a,t)})):e(a,i)}}}function h(e){for(var t,a=[];!(t=e.next()).done;)a.push(t.value);return a}function v(e,t,a){for(var i=0,n=a.length;i<n;){if(e(t,a[i]))return!0;i+=1}return!1}const b="function"==typeof Object.is?Object.is:function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};var y=!{toString:null}.propertyIsEnumerable("toString"),w=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],x=function(){return arguments.propertyIsEnumerable("length")}(),k=function(e,t){for(var a=0;a<e.length;){if(e[a]===t)return!0;a+=1}return!1};const C="function"!=typeof Object.keys||x?l((function(e){if(Object(e)!==e)return[];var t,a,i=[],n=x&&d(e);for(t in e)!c(t,e)||n&&"length"===t||(i[i.length]=t);if(y)for(a=w.length-1;a>=0;)c(t=w[a],e)&&!k(i,t)&&(i[i.length]=t),a-=1;return i})):l((function(e){return Object(e)!==e?[]:Object.keys(e)}));const E=l((function(e){return null===e?"Null":void 0===e?"Undefined":Object.prototype.toString.call(e).slice(8,-1)}));function S(e,t,a,i){var n=h(e);function r(e,t){return j(e,t,a.slice(),i.slice())}return!v((function(e,t){return!v(r,t,e)}),h(t),n)}function j(e,t,a,i){if(b(e,t))return!0;var n=E(e);if(n!==E(t))return!1;if("function"==typeof e["fantasy-land/equals"]||"function"==typeof t["fantasy-land/equals"])return"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t)&&"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e);if("function"==typeof e.equals||"function"==typeof t.equals)return"function"==typeof e.equals&&e.equals(t)&&"function"==typeof t.equals&&t.equals(e);switch(n){case"Arguments":case"Array":case"Object":if("function"==typeof e.constructor&&"Promise"===function(e){var t=String(e).match(/^function (\w*)/);return null==t?"":t[1]}(e.constructor))return e===t;break;case"Boolean":case"Number":case"String":if(typeof e!=typeof t||!b(e.valueOf(),t.valueOf()))return!1;break;case"Date":if(!b(e.valueOf(),t.valueOf()))return!1;break;case"Error":return e.name===t.name&&e.message===t.message;case"RegExp":if(e.source!==t.source||e.global!==t.global||e.ignoreCase!==t.ignoreCase||e.multiline!==t.multiline||e.sticky!==t.sticky||e.unicode!==t.unicode)return!1}for(var r=a.length-1;r>=0;){if(a[r]===e)return i[r]===t;r-=1}switch(n){case"Map":return e.size===t.size&&S(e.entries(),t.entries(),a.concat([e]),i.concat([t]));case"Set":return e.size===t.size&&S(e.values(),t.values(),a.concat([e]),i.concat([t]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var o=C(e);if(o.length!==C(t).length)return!1;var l=a.concat([e]),s=i.concat([t]);for(r=o.length-1;r>=0;){var d=o[r];if(!c(d,t)||!j(t[d],e[d],l,s))return!1;r-=1}return!0}const D=g((function(e,t){return j(e,t,[],[])}));const T=l((function(e){return null!=e&&D(e,m(e))}));const I=l((function(e){return null==e}));const O=g((function(e,t){var a=e<0?t.length+e:e;return p(t)?t.charAt(a):t[a]}));const M=O(0);const A=g((function(e,t){return t.match(e)||[]}));function P(e){return function t(a,i,n){switch(arguments.length){case 0:return t;case 1:return o(a)?t:g((function(t,i){return e(a,t,i)}));case 2:return o(a)&&o(i)?t:o(a)?g((function(t,a){return e(t,i,a)})):o(i)?g((function(t,i){return e(a,t,i)})):l((function(t){return e(a,i,t)}));default:return o(a)&&o(i)&&o(n)?t:o(a)&&o(i)?g((function(t,a){return e(t,a,n)})):o(a)&&o(n)?g((function(t,a){return e(t,i,a)})):o(i)&&o(n)?g((function(t,i){return e(a,t,i)})):o(a)?l((function(t){return e(t,i,n)})):o(i)?l((function(t){return e(a,t,n)})):o(n)?l((function(t){return e(a,i,t)})):e(a,i,n)}}}const F=g((function(e,t){return null==t||t!=t?e:t})),U=Number.isInteger||function(e){return(e|0)===e};const B=g((function(e,t){return e.map((function(e){for(var a,i=t,n=0;n<e.length;){if(null==i)return;a=e[n],i=U(a)?O(a,i):i[a],n+=1}return i}))}));const L=g((function(e,t){return B([e],t)[0]}));const q=P((function(e,t,a){return F(e,L(t,a))}));var R,z,N=a(669),Y=a(669);function H(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!a){if(Array.isArray(e)||(a=function(e,t){if(e){if("string"==typeof e)return W(e,t);var a={}.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?W(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,l=!1;return{s:function(){a=a.call(e)},n:function(){var e=a.next();return o=e.done,e},e:function(e){l=!0,r=e},f:function(){try{o||null==a.return||a.return()}finally{if(l)throw r}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=Array(t);a<t;a++)i[a]=e[a];return i}R={addToCartAjax:unicpo.ajax_add_to_cart,addToCartBtnEl:{},addToCartBtnSelector:".single_add_to_cart_button, button.product_type_simple",addedToCartMsg:N('<div class="woocommerce-message"><a href="'+wc_add_to_cart_params.cart_url+'" class="button wc-forward">'+wc_add_to_cart_params.i18n_view_cart+"</a> "+unicpo_i18n.added_to_cart+"</div>"),calc:unicpo.calc_on,calcBtn:unicpo.calc_btn_on,colorifyImagifyChangers:N(".uni-cpo-colorify-imagify-changer").get(),cpo:unicpo.cpo_on,isTaxable:unicpo.taxable,fileUploadEl:{},flatpickrCfg:{},geocoder:null,isFlexContainer:0<N(".flex-viewport").length,isLayeredOn:unicpo.layered_on,isImagify:unicpo.imagify_on,isSilentValidationOn:unicpo.silent_validation_on,layeredImg:null,mainImageChangers:N(".uni-cpo-image-changer").get().reverse(),mainImageDefData:{},mainImageEl:"",orderingDsblMsgEl:N(".js-uni-cpo-ordering-disabled-notice"),priceTagEl:{},priceStartingEl:N('<span class="js-cpo-price-starting"></span>'),priceCalculateEl:N('<span class="js-cpo-calculating"></span>'),productFormEl:{},progressEl:{},priceSuffix:unicpo.price_vars.price_suffix,priceTaxSuffixStarting:unicpo.price_vars.price_tax_suffix,pricePostfix:unicpo.price_vars.price_postfix,priceStarting:unicpo.price_vars.starting_price,resetBtn:unicpo.reset_form_btn_on,taxPriceSuffixElClass:".woocommerce-price-suffix",_pid:0,_ajax_sent:!1,_init:function(){try{if(this.cpo){if(this.addToCartBtnEl=N(this.addToCartBtnSelector),(!this.addToCartBtnEl.length||1<this.addToCartBtnEl.length)&&(this.addToCartBtnEl=N(".product.cpo-enabled-product .single_add_to_cart_button, .product.cpo-enabled-product button.product_type_simple")),this.addToCartBtnEl.length||console.info("Uni CPO @","Add to cart button is not found"),this.productFormEl=this.addToCartBtnEl.closest("form"),this.productFormEl.length?this.productFormEl.attr("data-parsley-focus","none"):console.info("Uni CPO @","Product form is not found"),0<N(".qty").length){var t=N(".qty")[0];(T(t.min)||I(t.min))&&N(".qty").removeAttr("min"),(T(t.max)||I(t.max))&&N(".qty").removeAttr("max"),N(".qty").attr("data-parsley-trigger","change focusout submit")}this.addToCartAjax&&0<this.addToCartBtnEl.length&&(this.addToCartBtnEl.attr("type","button"),this.addToCartBtnEl.addClass("uni_cpo_ajax_add_to_cart")),this.priceTagEl=N(unicpo.price_selector),this.priceTagEl.length||console.info("Uni CPO @","Price tag html element is not found"),this.priceTaxRevTagEl=N(unicpo.price_tax_rev_selector),this.priceStartingEl.html(this.getProperPrice()),this.priceCalculateEl.html(unicpo_i18n.calc_text),this.calc||this.setBtnState(!0),this.calc&&this.calcBtn&&(this.setBtnState(!0),this.setPriceTo({price:this.priceStartingEl}),this.bindOnCalcBtnClick()),this.bindOnAddToCartClick(),this.initTooltip(),"object"===("undefined"==typeof google?"undefined":e(google))&&"object"===e(google.maps)?(this.geocoder=new google.maps.Geocoder,this.initGoogleMap()):console.info("Uni CPO @","Google API key is missing or invalid"),this.initRangeSlider(),this.bindOnFileUploadClick(),this.bindOnMatrixCellClick();var a=this,i=setInterval((function(){"complete"===document.readyState&&(clearInterval(i),!a.calc||a.calc&&!a.calcBtn?a.processFormData():a.calc&&a.calcBtn&&a.collectData(!0),a.mainImageEl=a.getMainImageEl(),a.mainImageDefData=a.getMainImageDefData(),a.changeMainImage(),a.checkColorifyImagify(),N(document.body).trigger("uni_cpo_frontend_is_ready"))}),100),n=unicpo_i18n.flatpickr,r=n.weekdays,o=n.months,l=n.scrollTitle,c=n.toggleTitle;if(this.flatpickrCfg={locale:{weekdays:r,months:o,daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(e){var t=e%100;if(3<t&&21>t)return"th";switch(t%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" - ",weekAbbreviation:"Wk",scrollTitle:l,toggleTitle:c,amPM:["AM","PM"]}},this.isLayeredOn)0<N(document.body).find(".uni_cpo_main_image_layered_image").length&&"undefined"==typeof flickty&&N(".uni-cpo-main-image-bg-colorpicker").wpColorPicker({color:"#ffffff",mode:"hsv",target:!1,palettes:!1,controls:"strip",width:200,change:function(e,t){N(".uni_cpo_main_image_layered_image").css("background-color",t.color.toString())}});this.bindOnResetRadioBtnClick(),this.resetBtn&&this.bindOnResetFormBtnClick(),this.bindOnRadioImageTap(),this.bindOnRadioColourClick(),this.bindOnRadioTextClick(),this.bindOnOptionSelected(),this.bindImageChangers(),this.fpdCompat()}}catch(t){console.error(t)}},addToCart:function(e){var t={action:"uni_cpo_add_to_cart",security:unicpo.security,data:e};this.ajaxCall(t)},ajaxCall:function(e){var t=this,a=t.productFormEl[0],i=N("div.woocommerce").not(".widget");N.ajax({url:unicpo.ajax_url,data:e,dataType:"json",method:"POST",beforeSend:function(){t._blockForm(a),t.calc&&(t.setPriceTo({price:t.priceCalculateEl,tax:"hide"}),t.setPriceTaxRevTo({price:t.priceCalculateEl})),t.addToCartAjax&&i.find(".woocommerce-message").slideToggle(500,(function(){N(this).remove()})),N(document.body).trigger("uni_cpo_options_data_ajax_before_send",[e.data])},error:function(){t._unblockForm(a,"error"),t.setPriceTo({price:t.priceStartingEl}),t.setPriceTaxRevTo({price:t.priceStartingEl})},success:function(n){if("uni_cpo_add_to_cart"===e.action){var r=Object.keys(t.fileUploadEl);r.length&&r.forEach((function(e){var a=N("#"+e).data("slug");t.fileUploadEl[e].splice(),N("#".concat(a,"-files-list")).empty(),N("#".concat(a,"-field")).val("").trigger("change")}))}if(n.success){if(t._unblockForm(a,"success"),void 0!==n.data.redirect)return void(window.location=n.data.redirect);if(I(n.data.all_options_data)||t.replaceLabelsWithDynamicData(n.data.all_options_data),unicpo.formatted_vars=Object.assign({},n.data.formatted_vars,n.data.nice_names_vars),N.extend(unicpo.price_vars,n.data.price_vars),N.extend(unicpo.extra_data,n.data.extra_data),unicpo.errors={},T(n.data.errors)||N.extend(unicpo.errors,n.data.errors),void 0!==n.data.extra_data&&void 0!==n.data.extra_data.order_product&&"disabled"===n.data.extra_data.order_product?(t.orderingDsblMsgEl.slideDown(300),t.setBtnState(!0)):(t.orderingDsblMsgEl.hide(),t.setBtnState(!1)),t.calc){var o=t.getProperPrice({price:unicpo.price_vars.price,doRemoveSuffix:!0});unicpo.price_vars.raw_price?(t.setPriceTo({price:o,tax:"show"}),t.setPriceTaxRevTo({price:unicpo.price_vars.price_tax_rev})):(t.setPriceTo({price:t.priceStartingEl}),t.setPriceTaxRevTo({price:t.priceStartingEl}),t.setBtnState(!0))}if(void 0!==n.data.fragments){if("yes"===wc_add_to_cart_params.cart_redirect_after_add)return void(window.location=wc_add_to_cart_params.cart_url);i.html(t.addedToCartMsg),N.each(n.data.fragments,(function(e,t){N(e).replaceWith(t)})),N(document.body).trigger("uni_cpo_added_to_cart",[n.data]),N(document.body).trigger("added_to_cart",[n.data.fragments])}else N(document.body).trigger("uni_cpo_options_data_ajax_success",[e.data,n.data])}else{if(t._unblockForm(a,"error"),t.calc&&(t.setPriceTo({price:t.priceStartingEl}),t.setPriceTaxRevTo({price:t.priceStartingEl})),n.data.product_url)return void(window.location=n.data.product_url);N(document.body).trigger("uni_cpo_options_data_ajax_fail",[e.data,n])}}})},bindImageChangers:function(){var e=this;N(document).on("change",e.mainImageChangers,(function(){e.changeMainImage()}))},bindOnAddToCartClick:function(){var e=this;N(document).on("click",".storefront-sticky-add-to-cart__content-button",(function(t){e.formSubmission(),t.preventDefault()})),this.addToCartAjax?N(document).on("click",".uni_cpo_ajax_add_to_cart",(function(t){t.preventDefault(),e.formSubmission()})):N(document).on("click",this.addToCartBtnSelector,(function(t){t.preventDefault(),e.formSubmission()}))},bindOnCalcBtnClick:function(){var e=this;N(document).on("click",".js-uni-cpo-calculate-btn",(function(){return!e._ajax_sent&&void e.processFormData()}))},bindOnResetFormBtnClick:function(){var e=this;N(document).on("click",".js-uni-cpo-reset-form-btn",(function(){N(unicpo.options_selector).each((function(){if(this.name){var t=this,a=N(t),i=a.closest(".uni-module"),n=t.type||t.tagName.toLowerCase();if("checkbox"===n||"radio"===n)a.attr("checked",!1),e.layeredImg="";else if("select-one"===n||"textarea"===n)a.val("");else if("number"===n||"text"===n){if(a.hasClass("js-uni-cpo-field-range_slider")){var r=a.data("ionRangeSlider"),o=a.attr("data-min"),l=a.attr("data-max"),c=a.siblings(N(".js-uni-cpo-field-range_slider-additional-field"));return r.update({from:o,to:l}),void c.val(o)}if(a.hasClass("flatpickr-input"))t._flatpickr.clear();a.val("")}else if("hidden"===n){if(i.hasClass("uni-module-matrix")&&i.find(".uni-clicked").removeClass("uni-clicked"),i.hasClass("uni-module-file_upload"))i.find(".uni-cpo-file-upload-files-item-remove").each((function(){N(this).trigger("click")}));a.val("")}else a.val("")}})),e.processFormData()}))},bindOnFileUploadClick:function(){var e=this,t=N(".js-uni-cpo-field-file_upload-el");t.length&&t.each((function(){var t=N(this),a=t.attr("id"),i=t.parent(".dndWrapper").siblings(".js-uni-cpo-file-upload-files").attr("id"),n=t.data(),r=n.postId,o=n.slug,l=n.maxFilesize,c=n.mimeTypes;e.fileUploadEl[a]=new plupload.Uploader({max_files:1,multi_selection:!1,runtimes:"html5",url:unicpo.ajax_url,browse_button:a,drop_element:a,chunk_size:"1mb",filters:{max_file_size:l?l+"mb":unicpo.max_file_size+"mb",mime_types:[{title:"Allowed formats",extensions:c||unicpo.mime_types}]},listId:i,uploadMode:"single",multipart_params:{action:"uni_cpo_upload_file",postId:r,slug:o,productId:unicpo.pid,security:unicpo.security}}),e.fileUploadEl[a].bind("PostInit",e.handlePluploadInit),e.fileUploadEl[a].bind("Error",e.handlePluploadError),e.fileUploadEl[a].bind("FileFiltered",e.handlePluploadFileFiltered),e.fileUploadEl[a].bind("FilesAdded",e.handlePluploadFilesAdded),e.fileUploadEl[a].bind("BeforeUpload",e.handlePluploadBeforeUpload),e.fileUploadEl[a].bind("UploadProgress",e.handlePluploadUploadProgress),e.fileUploadEl[a].bind("ChunkUploaded",e.handlePluploadChunkUploaded),e.fileUploadEl[a].bind("FileUploaded",e.handlePluploadFileUploaded),e.fileUploadEl[a].init(),t.on("dragenter",(function(){t.addClass("dragStarted")})),t.on("dragleave",(function(){t.removeClass("dragStarted")})),t.on("drop",(function(){t.removeClass("dragStarted")}))}))},bindOnOptionSelected:function(){var e=this;N(document).on("change",unicpo.options_selector_change,(function(){if(e._ajax_sent)return!1;var t=N(this).val();N(this).hasClass("js-uni-cpo-field-select")&&N(this).attr("data-value",t),N(this).hasClass("js-uni-cpo-field-radio")&&N(this).closest(".uni-module-radio").attr("data-value",t),!e.calc||e.calc&&!e.calcBtn?e.processFormData():e.calc&&e.calcBtn&&(e.setBtnState(!0),e.collectData(!0))}))},bindOnResetRadioBtnClick:function(){var e=this;N(".uni-module-radio .js-uni-cpo-field-radio-reset-button").on("click",(function(t){t.preventDefault(),r(N(this).closest(".uni-module-radio").find("input[type='radio']")).forEach((function(e){e.checked=!1,e.setAttribute("checked",!1)})),e.processFormData()}))},bindOnRadioColourClick:function(){var e=this;N(".uni-module-radio .uni-cpo-option-label__colour-wrap").on("click",(function(){var t=N(this),a=t.data(),i=t.closest(".uni-module-radio"),n=i.attr("id"),r=i.data("layered"),o=i.data("imagify");void 0!==r&&e.isLayeredOn?(e.showLastThumb(),e.colorify(n,a.hex)):void 0!==o&&e.isImagify&&(e.showLastThumb(),e.imagify(n,a.image))}))},bindOnRadioTextClick:function(){var e=this;N(".uni-module-radio .uni-cpo-option-label__text, .uni-module-radio .uni-cpo-option-label__radio, .uni-module-radio .uni-cpo-option-label__text-content").on("click",(function(){var t=N(this),a=t.data(),i=t.closest(".uni-module-radio"),n=i.attr("id");void 0!==i.data("imagify")&&e.isImagify&&(e.showLastThumb(),e.imagify(n,a.image))}))},bindOnRadioImageTap:function(){var e=this;N(".uni-cpo-option-label__image-wrap").on("click",(function(){var t=N(this),a=t.data(),i=t.closest(".uni-module-radio"),n=i.attr("id");void 0!==i.data("imagify")&&e.isImagify&&(e.showLastThumb(),e.imagify(n,a.image))}))},bindOnMatrixCellClick:function(){var e=this,t=N(".uni-module-matrix");N(".uni-module-matrix table td span").on("click",(function(){var t=N(this),a=parseFloat(t.text().replace(/,/,"")),i=t.closest(".uni-module-matrix"),n=i.attr("id");if(t.hasClass("uni-clicked"))t.removeClass("uni-clicked"),i.find('[name="'+n+'_col"]').val(""),i.find('[name="'+n+'_row"]').val(""),i.find('[name="'+n+'"]').val("").trigger("change");else{var r=t.data("col"),o=t.data("row");i.find("td span.uni-clicked").removeClass("uni-clicked"),t.addClass("uni-clicked"),i.find('[name="'+n+'_col"]').val(r),i.find('[name="'+n+'_row"]').val(o),i.find('[name="'+n+'"]').val(a).trigger("change")}return!e._ajax_sent&&void(!e.calc||e.calc&&!e.calcBtn?e.processFormData():e.calc&&e.calcBtn&&(e.setBtnState(!0),e.collectData(!0)))})),t.each((function(){var e=N(this),t=e.attr("id"),a=e.find('[name="'+t+'_col"]').val(),i=e.find('[name="'+t+'_row"]').val();e.find('span[data-col="'+a+'"][data-row="'+i+'"]').addClass("uni-clicked")}))},calculate:function(e){var t={action:"uni_cpo_price_calc",security:unicpo.security,data:e};this.ajaxCall(t)},changeMainImage:function(){if(this.mainImageChangers.length&&this.mainImageEl){var e;this.mainImageChangers.forEach((function(t){if(void 0===e){var a=N(t),i=a.attr("type");a.hasClass("uni-cpo-excluded-field")||("radio"===i||"checkbox"===i?!0===a.prop("checked")&&(e=a):e=a)}}));var t=void 0===e?this.mainImageDefData:e.data();this.replaceMainImageData(t)}},checkColorifyImagify:function(){var e=this;(e.isLayeredOn||e.isImagify||e.colorifyImagifyChangers.length)&&e.colorifyImagifyChangers.forEach((function(t){if(!t.classList.contains("uni-cpo-excluded-field")&&"radio"===t.type&&t.checked){var a=t.nextElementSibling.children[0],i=a.getAttribute("data-hex"),n=a.getAttribute("data-image"),r=t.parentElement,o=r.getAttribute("id"),l=r.getAttribute("data-layered");void 0!==r.getAttribute("data-imagify")&&e.isLayeredOn?e.colorify(o,i):void 0!==l&&e.isImagify&&e.imagify(o,n)}}))},collectData:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=this,i={};N(unicpo.options_selector).not(".uni-cpo-excluded-field").each((function(){if(this.name){var t=this,n=N(t),r=t.type||t.tagName.toLowerCase();if("checkbox"===r){var o=t.name.replace("[]","");if(void 0!==i[o])return;i[o]=N.makeArray(i[o]),N('input[name="'+t.name+'"]:checked').each((function(){i[o].push(this.value)})),i[o+"_count"]=i[o].length}else if("radio"===r)N('input[name="'+t.name+'"]:checked').length?!0===n.prop("checked")&&(i[t.name]=n.val()):i[t.name]="";else if("select-one"===r)i[t.name]=n.val();else if("number"===r||"text"===r)if(n.hasClass("js-uni-cpo-field-datepicker")){var l=document.getElementById(t.name+"-field")._flatpickr,c=l.config.mode,s=l.config.noCalendar,d=l.config.enableTime,u=l.config.time_24hr;if(s&&d){var p=moment(l.selectedDates[0]);u?(i[t.name]=p.format("H:mm"),i[t.name+"_start"]=p.format("H:mm")):(i[t.name]=p.format("h:mm a"),i[t.name+"_start"]=p.format("h:mm a"))}else{var f=moment(l.selectedDates[0]);if("single"===c)d?u?(i[t.name]=f.format("Y-MM-DD H:mm"),i[t.name+"_start"]=f.format("Y-MM-DD H:mm")):(i[t.name]=f.format("Y-MM-DD h:mm a"),i[t.name+"_start"]=f.format("Y-MM-DD h:mm a")):(i[t.name]=f.format("Y-MM-DD"),i[t.name+"_start"]=f.format("Y-MM-DD")),i[t.name+"_duration"]=1;else if("range"===c){var m=moment(l.selectedDates[1]);l.selectedDates.length&&(d?u?(i[t.name]=f.format("Y-MM-DD H:mm")+" - "+m.format("Y-MM-DD H:mm"),i[t.name+"_start"]=f.format("Y-MM-DD H:mm"),i[t.name+"_end"]=m.format("Y-MM-DD H:mm")):(i[t.name]=f.format("Y-MM-DD h:mm a")+" - "+m.format("Y-MM-DD h:mm a"),i[t.name+"_start"]=f.format("Y-MM-DD h:mm a"),i[t.name+"_end"]=m.format("Y-MM-DD h:mm a")):(i[t.name]=f.format("Y-MM-DD")+" - "+m.format("Y-MM-DD"),i[t.name+"_start"]=f.format("Y-MM-DD"),i[t.name+"_end"]=m.format("Y-MM-DD")),i[t.name+"_duration"]=m.diff(f,"days"),n.hasClass("js-datepicker-day-night-mode-days")&&(i[t.name+"_duration"]=i[t.name+"_duration"]+1))}else"multiple"===c&&l.selectedDates.length&&(i[t.name]=n.val(),i[t.name+"_duration"]=l.selectedDates.length,i[t.name+"_days"]=[],l.selectedDates.forEach((function(e){var a;a=d?u?moment(e).format("Y-MM-DD H:mm"):moment(e).format("Y-MM-DD h:mm a"):moment(e).format("Y-MM-DD"),i[t.name+"_days"].push(a)})))}}else if(n.hasClass("js-uni-cpo-field-range_slider")){if("double"===n.data("ionRangeSlider").options.type){var g=n.val().split("-");i[t.name]=n.val(),i[t.name+"_from"]=g[0],i[t.name+"_to"]=g[1]}else i[t.name]=n.val(),i[t.name+"_from"]=n.val(),i[t.name+"_to"]=n.val()}else if(n.hasClass("js-uni-cpo-field-distance_by_postcode")){var h=t.parentElement.querySelector("[name=".concat(t.name,"_origin]"));h&&(i[t.name+"_origin"]=N(h).val()),i[t.name]=n.val()}else if(n.hasClass("js-uni-cpo-field-google_map")){var v=n.prev();i[t.name]=n.val(),i[t.name+"_latlng"]=v.val()}else{if(a.isNumber(n.val())){var _=n.val().replace(/,/,".");n.val(_),i[t.name]=n.val()}else i[t.name]=n.val();i[t.name+"_count_spaces"]=i[t.name].length;var b=n.val().replace(/ /g,"");i[t.name+"_count"]=b.length}else if("textarea"===r){i[t.name]=n.val(),i[t.name+"_count_spaces"]=i[t.name].length;var y=n.val().replace(/ /g,"");i[t.name+"_count"]=y.length}else if("hidden"!==r)i[t.name]=n.val();else if(n.hasClass("js-uni-cpo-field-file_upload")){var w=n.data();i[t.name]=n.val(),void 0!==w.imageWidth&&(i[t.name+"_width"]=parseInt(w.imageWidth)),void 0!==w.imageHeight&&(i[t.name+"_height"]=parseInt(w.imageHeight))}else i[t.name]=n.val();e?N(document.body).trigger("uni_cpo_option_data_for_conditional",[i,n]):N(document.body).trigger("uni_cpo_option_data_before_validate",[i,n])}}));var n=N("[ng-bind-html='final_price | to_trusted']");if(n.length&&(i.nbdFinalPrice=parseFloat(n.text().replace(/[^0-9\.]+/g,""))),e){var r=N(document.body).triggerHandler("uni_cpo_options_data_for_conditional",[i]);if(void 0!==r&&(i=r),!_.isEqual(t,i))return a.collectData(!0,i)}else{var o=N(document.body).triggerHandler("uni_cpo_options_data_before_validate",[i]);void 0!==o&&(i=o)}return i},colorify:function(e,t){var a=N("#palette-layer-"+e);if(0<a.length){var i=this.hexToRgb(t),n=a.width(),r=a.height();this.loadImage(a[0].src).then((function(e){var t=e.width,o=e.height;e.remove();var l=document.createElement("canvas"),c=l.getContext("2d");l.width=t,l.height=o,c.drawImage(a.get(0),0,0);for(var s=c.getImageData(0,0,t,o),d=s.data,u=[i.r,i.g,i.b],p=0,f=d.length;p<f;p+=4)d[p]=u[0],d[p+1]=u[1],d[p+2]=u[2];c.putImageData(s,0,0),a.attr("src",l.toDataURL("image/png")),a.attr("width",n),a.attr("height",r),R.combineImg()})).catch((function(){}))}},combineImg:function(){var e=this,t=document.getElementById("uni_cpo_layered_image"),a=r(t.children).filter((function(e){return!e.classList.contains("uni-cpo-excluded-img")})),i=document.getElementById("uni_canvas"),n=i.getContext("2d");n.clearRect(0,0,i.width,i.height),a.length&&(i.width=t.clientWidth,i.height=t.clientHeight,Promise.all(a.filter((function(e){return"IMG"===e.tagName})).map((function(t){return e.loadImage(t.src)}))).then((function(e){e.forEach((function(e){n.drawImage(e,0,0,i.width,i.height)})),R.layeredImg=i.toDataURL()})).catch((function(){})))},loadImage:function(e){return new Promise((function(t,a){var i=new Image;i.addEventListener("load",(function(){t(i)})),i.addEventListener("error",(function(e){a(e)})),i.src=e}))},imagify:function(e,t){var a=N("#imagify-layer-"+e);0<a.length&&a.attr("src",t),R.combineImg()},formSubmission:function(){var e=this;if(e.productFormEl.parsley({excluded:"[disabled], .uni-cpo-excluded-field"}).validate(),e.productFormEl.parsley().isValid()){var t=N(".uni-cpo-excluded-field");t.each((function(){N(this).prop("disabled",!0)}));var a=!0;if(Y("#uni_cpo_layered_image > img").each((function(){Y(this).hasClass("uni-cpo-excluded-img")||(a=!1)})),N('input[name="cpo_product_layered_image"]').val(a?"":e.layeredImg),e.addToCartAjax){var n={};N.each(e.productFormEl.serializeArray(),(function(e,t){if(-1!==t.name.indexOf("nbd-field")){var a=M(A(/\[(.*?)\]/g,t.name));I(a)||(a=a.replace("[","").replace("]",""),I(n["nbd-field"])&&(n["nbd-field"]={}),n["nbd-field"]=Object.assign({},n["nbd-field"],i({},a,t.value)))}else-1===t.name.indexOf("[]")?n[t.name]=t.value:(t.name=t.name.replace("[]",""),n[t.name]=N.makeArray(n[t.name]),n[t.name].push(t.value))}));var r=N("[ng-bind-html='final_price | to_trusted']");r.length&&(n.nbdFinalPrice=parseFloat(r.text().replace(/[^0-9\.]+/g,""))),e.addToCart(n)}else e.productFormEl.submit();t.each((function(){N(this).prop("disabled",!1)}))}},getMainImageDefData:function(){if(this.mainImageEl){var e=this.mainImageEl.find("a"),t=e.find("img");return{imgId:unicpo.product_image_id,imgFullUri:e.attr("href"),imgTitle:t.attr("title"),imgAlt:t.attr("alt"),imgUri:t.attr("src"),imgSrcset:t.attr("srcset"),imgSrc:t.attr("data-src"),imgLarge_image:t.attr("data-large_image"),imgLarge_image_width:t.attr("data-large_image_width"),imgLarge_image_height:t.attr("data-large_image_height"),imgThumbUri:t.closest("[data-thumb]").attr("data-thumb"),imgWidth:t.attr("width"),imgHeight:t.attr("height")}}console.info("Uni CPO @","No main image found.")},getMainImageEl:function(){var e=N(unicpo.image_selector).find(".woocommerce-product-gallery__image");return 0<e.length?e.not(".clone").first():""},getFormattedFormData:function(){var e=N(".js-cpo-pid").val(),t=this.productFormEl.find(".input-text.qty"),a=t.val()?t.val():1,i={};return i.product_id=e,i.quantity=parseFloat(a),i=N.extend(i,this.collectData(!1))},handlePluploadInit:function(e){var t=window.UniCpo,a=e.settings.listId,i=N("#"+e.settings.multipart_params.slug+"-field");if(""!==i.val()){var n='<li class="uni-cpo-file-upload-files-item"><i class="uni-cpo-file-upload-files-item-icon"></i><span class="uni-cpo-file-upload-files-item-title">'+i.data("filename")+'</span><span class="uni-cpo-file-upload-files-item-uploaded" style="display: inline;"></span><button type="button" data-attach_id="'+i.val()+'" class="uni-cpo-file-upload-files-item-remove"></button></li>';N("#"+a).append(n)}N(document).on("click","#"+a+" .uni-cpo-file-upload-files-item-upload",(function(t){t.preventDefault(),e.start()})),N(document).on("click","#"+a+" .uni-cpo-file-upload-files-item-remove",(function(a){a.preventDefault();var i=N(a.target),n=i.data("file-id"),r=i.data("attach_id"),o=i.data("dropboxPath"),l=i.closest("li"),c=i.closest(".js-uni-cpo-file-upload-files"),s=N("#"+e.settings.multipart_params.slug+"-field");if(window.UniCpo.parsleyRemoveError(s),void 0!==r){var d={action:"uni_cpo_remove_file",security:unicpo.security,attach_id:r,dropboxPath:o};N.ajax({url:unicpo.ajax_url,data:d,dataType:"json",method:"POST",beforeSend:function(){t._blockForm(c)},error:function(){t._unblockForm(c,"error")},success:function(a){a.success?(t._unblockForm(c,"success"),void 0!==n&&e.removeFile(n),l.remove(),s.val("").trigger("change")):t._unblockForm(c,"error")}})}else{var u=e.files.filter((function(e){if(void 0!==n)return e.id===n}));u.length&&e.removeFile(u[0]),l.remove(),s.trigger("change")}}))},handlePluploadError:function(e,t){var a=N("#"+e.settings.multipart_params.slug+"-field"),i=e.settings.listId;window.UniCpo.parsleyRemoveError(a),-601===t.code?a.parsley().addError("file-type",{message:"This type of files cannot be uploaded."}):-600===t.code?a.parsley().addError("file-size",{message:"The file is too big"}):a.parsley().addError("file-custom",{message:t.message}),window.UniCpo.position(a,0),N("#"+i+" .uni-cpo-file-upload-files-item-upload").attr("disabled",!1),window.UniCpo.setBtnState(!1)},handlePluploadFileFiltered:function(){},handlePluploadFilesAdded:function(e,t){var a=N("#"+e.settings.multipart_params.slug+"-field");if(window.UniCpo.parsleyRemoveError(a),"single"===e.settings.uploadMode&&(1<e.files.length||""!==a.val()))return a.parsley().addError("file-limit",{message:"Cannot send more than 1 file."}),window.UniCpo.position(a,0),e.removeFile(t[0]),!1;for(var i,n=0;n<t.length;n++)i='<li class="uni-cpo-file-upload-files-item"><i class="uni-cpo-file-upload-files-item-icon"></i><span class="uni-cpo-file-upload-files-item-title">'+t[n].name+'</span><span class="uni-cpo-file-upload-files-item-uploaded"></span><button class="uni-cpo-file-upload-files-item-upload"></button><button type="button" data-file-id="'+t[n].id+'" class="uni-cpo-file-upload-files-item-remove"></button><span class="uni-cpo-file-upload-files-item-progress"><span></span></span></li>',N("#"+e.settings.listId).append(i);window.UniCpo.setBtnState(!0),e.start()},handlePluploadBeforeUpload:function(e,t){var a=e.settings.listId;e.settings.multipart_params.file_name=t.name,N("#"+a+" .uni-cpo-file-upload-files-item-upload").attr("disabled",!0),N("#"+a+" .uni-cpo-file-upload-files-item-remove").attr("disabled",!0)},handlePluploadUploadProgress:function(e,t){var a=e.settings.listId;N("#"+a+" .uni-cpo-file-upload-files-item-progress span").css({width:t.percent+"%"})},handlePluploadChunkUploaded:function(e,t,a){var i=JSON.parse(a.response);if(!i.success){var n=e.settings.multipart_params.slug,r=N("#"+n+"-field");e.stop(),r.parsley().addError("file-upload",{message:i.data.error}),window.UniCpo.position(r,0)}},handlePluploadFileUploaded:function(e,t,a){var i=e.settings.listId,n=e.settings.multipart_params.slug,r=N("#"+n+"-field"),o=JSON.parse(a.response.replace(/\\/g,""));if(window.UniCpo.parsleyRemoveError(r),o.success&&o.data){var l=void 0===o.data.file?"":o.data.file.id,c=void 0===o.data.path_lower?"":o.data.path_lower,s=l||"Dropbox: ".concat(c),d="",u="";l&&(d=o.data.file.width,u=o.data.file.height),N("#"+i+" .uni-cpo-file-upload-files-item-progress").remove(),N("#"+i+" .uni-cpo-file-upload-files-item-upload").remove(),N("#"+i+" .uni-cpo-file-upload-files-item-uploaded").show(),N("#"+i+" .uni-cpo-file-upload-files-item-remove").attr("disabled",!1),N('[data-file-id="'+t.id+'"]').data({attach_id:l,dropboxPath:c}),r.val(s),r.data({width:d,height:u}),N(document.body).trigger("uni_cpo_file_uploaded",[n,o.data.file]),r.trigger("change")}else r.parsley().addError("file-upload",{message:o.data.error}),window.UniCpo.position(r,0);window.UniCpo.setBtnState(!1)},hexToRgb:function(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,a,i){return t+t+a+a+i+i}));var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16),g:parseInt(t[2],16),b:parseInt(t[3],16)}:null},gMapMarkers:{},addGoogleMarker:function(e,t,a){var i=window.UniCpo,n=new google.maps.Marker({position:e,map:t});if(i.gMapMarkers.hasOwnProperty(a)||(i.gMapMarkers[a]=[]),i.gMapMarkers[a].length){for(var r in i.gMapMarkers[a])i.gMapMarkers[a][r].setMap(null);i.gMapMarkers[a]=[]}i.gMapMarkers[a].push(n)},initGoogleMap:function(){try{var e=window.UniCpo,t=document.getElementsByClassName("js-uni-gmap-container");if(!t.length)return;var a,i=H(t);try{var n=function(){var t=a.value,i=(t.getAttribute("data-map"),t.getAttribute("data-slug")),n=t.getAttribute("data-coords").split(","),r=parseFloat(n[0]),o=parseFloat(n[1]),l=new google.maps.Map(t,{center:{lat:r,lng:o},zoom:parseInt(t.getAttribute("data-zoom"))});t.setAttribute("data-map",l),l.addListener("click",(function(t){e.addGoogleMarker(t.latLng,l,i),e.geocoder.geocode({latLng:t.latLng},(function(e,a){if(a==google.maps.GeocoderStatus.OK&&e[0]){var n=document.getElementById("js-uni-cpo-field-".concat(i)),r=document.getElementById("js-uni-cpo-field-".concat(i,"-latlng"));null!=n&&(n.value=e[0].formatted_address),null!=r&&(r.value=t.latLng)}}))}))};for(i.s();!(a=i.n()).done;)n()}catch(e){i.e(e)}finally{i.f()}}catch(i){console.error(i)}},initRangeSlider:function(){var e=this;N(".js-uni-cpo-field-range_slider").each((function(){var t=N(this),a=t.siblings(N(".js-uni-cpo-field-range_slider-additional-field")),i={force_edges:!0,input_values_separator:"-",onFinish:function(t){return a.length&&(t.from_value?a.val(t.from_value):a.val(t.from)),!e._ajax_sent&&void(!e.calc||e.calc&&!e.calcBtn?e.processFormData():e.calc&&e.calcBtn&&(e.setBtnState(!0),e.collectData(!0)))},onUpdate:function(){return!e._ajax_sent&&void(!e.calc||e.calc&&!e.calcBtn?e.processFormData():e.calc&&e.calcBtn&&(e.setBtnState(!0),e.collectData(!0)))}};t.ionRangeSlider(i),a.length&&a.on("change",(function(){var e,a=t.data("ionRangeSlider"),i=t.attr("data-values"),n=+t.attr("data-step"),r=+t.attr("data-min"),o=+t.attr("data-max"),l=N(this).val();e=i.length?i.split(",").map((function(e){return e.toLowerCase()})).indexOf(l.toLowerCase()):n?l<r?r:l>o?o:Math.floor(+l/n)*n+(+l%n>=n/2?n:0):l<r?r:l>o?o:l,a.update({from:e}),N(this).val(e)}))}))},isMobile:function(){var e=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))},initTooltip:function(){N(".uni-builderius-container").tooltip({items:"[data-tip]",show:{effect:"show",duration:0},hide:{effect:"fad",duration:0},close:function(){N(".ui-helper-hidden-accessible").remove()},position:{my:"center bottom",at:"center top-10",collision:"none",using:function(e,t){N(this).css(e),N(this).addClass("vertical-bottom horizontal-center")}},content:function(){return N(this).attr("data-tip")}})},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},position:function(e,t){var a,i,n=e;a=void 0===t?300:t,e.hasClass("uni-module")?i=e.find(".parsley-errors-list"):(i=N("#parsley-id-"+n.data("parsley-id")),"hidden"===n.attr("type")&&(n=N(""+e.data("parsley-class-handler")))),e.hasClass("parsley-error")||void 0===e.data("parsley-errors-container")||void 0===e.data("parsley-class-handler")||"hidden"===e.attr("type")||(n=N(""+e.data("parsley-class-handler")),i=N('[id="parsley-id-multiple-'+n.attr("id")+'"]'));var r=n.outerWidth();setTimeout((function(){i.position({of:n,my:"left top",at:"left bottom",collision:"none"}),i.css({"max-width":r,opacity:1})}),a)},processFormData:function(){if(!this.addToCartBtnEl.length)return!1;var e=this,t=!1;e.collectData(!0),this.calc&&(e.setPriceTo({price:e.priceStartingEl}),e.setPriceTaxRevTo({price:e.priceStartingEl})),N(document.body).trigger("uni_cpo_form_data_process_start",[e]),e.productFormEl.parsley({excluded:"[disabled], .qty, .uni-cpo-excluded-field"}).validate(),e.productFormEl.parsley().isValid()&&(t=!0);var a=e.getFormattedFormData(!1);e.productFormEl.parsley({excluded:"[disabled], .qty, .uni-cpo-excluded-field"}).validate(),e.productFormEl.parsley().isValid()&&(t=!0),t&&a.product_id?(N(document.body).trigger("uni_cpo_options_data_after_validate_event",[a]),!e.calc&&e.setBtnState(!1),e.calc&&!e.calcBtn&&e.setBtnState(!0),e.calc&&e.calculate(a)):(e.setBtnState(!0),N(document.body).trigger("uni_cpo_options_data_not_valid_event",[a]))},replaceMainImageData:function(e){var t=this;if(this.mainImageEl){var a=this.mainImageEl.find("a"),i=a.find("img"),n=0<a.next("img.zoomImg").length?a.next("img.zoomImg"):"",r=N(unicpo.thumbs_selector).children().first().find("img"),o=this.mainImageEl.closest('div[class*="viewport"]'),l=e.imgId,c=e.imgFullUri,s=e.imgTitle,d=e.imgAlt,u=e.imgUri,p=e.imgSrcset,f=e.imgSizes,m=e.imgSrc,g=e.imgLarge_image,h=e.imgLarge_image_width,v=e.imgLarge_image_height,_=e.imgThumbUri,b=e.imgWidth,y=e.imgHeight;i.closest("div").attr("data-thumb",_),i.parent().attr("href",c),i.parent().attr("title",s),i.attr("title",s),i.attr("alt",d),i.attr("src",u),i.attr("data-src",m),i.attr("data-large_image",g),i.attr("data-large_image_width",h),i.attr("data-large_image_height",v),i.attr("sizes",f),p||(p=""),i.attr("srcset",p),i.attr("width",b),i.attr("height",y),n&&n.attr("src",c),r.attr("src",_);var w=setInterval((function(){var e=i.height();o.css("height",e),t.showFirstThumbOnImageChange(),clearInterval(w)}),100);l&&this.productFormEl.find(".js-cpo-product-image").val(l),N(document.body).trigger("uni_cpo_options_product_image_replaced_event",[e,i])}else console.info("Uni CPO @","No main image found.")},parsleyRemoveError:function(e){e.parsley().removeError("file-limit"),e.parsley().removeError("file-type"),e.parsley().removeError("file-size"),e.parsley().removeError("file-custom"),e.parsley().removeError("file-upload")},replaceLabelsWithDynamicData:function(e){try{var t=/({#)|(#})/g;Object.keys(e).filter((function(t){return!I(e[t].is_dynamic_label)&&e[t].is_dynamic_label})).map((function(a){var n={},o=N("#".concat(a,":not(.uni-module-radio):not(.uni-module-checkbox) > label")),l=o.find(".uni-cpo-tooltip");if(l.length&&(n=l[0]),o.text(e[a].label),o.text(e[a].label.replace(t,"")),T(n)||o.append(n),!T(e[a].suboptions))if("radio"===e[a].type){var c=i({},a,{}),s={};Object.keys(e[a].suboptions).map((function(e){var t=N("[for=".concat(a,"-field-").concat(e,"] span.uni-cpo-option-label__text > span.uni-cpo-option-label__description"));t.length&&(c[a][e]=t)}));var d=N("#".concat(a," > label.uni-cpo-module-radio-label")),u=d.find(".uni-cpo-tooltip");u.length&&(s=u[0]),d.text(e[a].label.replace(t,"")),T(s)||d.append(s),Object.keys(e[a].suboptions).map((function(i){var n=N("[for=".concat(a,"-field-").concat(i,"] span.uni-cpo-option-label__text"));n.length&&(n.text(e[a].suboptions[i].label.replace(t,"")),!I(c[a])&&!I(c[a][i])&&n.append(c[a][i]))}))}else if("select"===e[a].type){var p=document.getElementById("".concat(a,"-field"));I(p)||I(p.options)||r(p.options).map((function(i){T(i.value)||(i.innerHTML=e[a].suboptions[i.value].label.replace(t,""))}))}else if("checkbox"===e[a].type){var f=i({},a,{}),m={};Object.keys(e[a].suboptions).map((function(e){var t=N("[for=".concat(a,"-field-").concat(e,"] span.uni-cpo-option-label__text")).find("span.uni-cpo-option-label__description");t.length&&(f[a][e]=t)}));var g=N("#".concat(a," > label.uni-cpo-module-checkbox-label")),h=g.find(".uni-cpo-tooltip");h.length&&(m=h[0]),g.text(e[a].label.replace(t,"")),T(m)||g.append(m),Object.keys(e[a].suboptions).map((function(i){var n=N("[for=".concat(a,"-field-").concat(i,"] span.uni-cpo-option-label__text"));n.length&&(n.text(e[a].suboptions[i].label.replace(t,"")),!I(f[a])&&!I(f[a][i])&&n.append(f[a][i]))}))}}))}catch(e){console.error(e)}},setBtnState:function(e){this.addToCartBtnEl.prop("disabled",e),N(document.body).trigger("uni_cpo_set_btn_state_event",[e])},setPriceTo:function(t){var a=t.price,i=t.tax,n=void 0===i?"starting":i,r=this;r.priceTagEl.each((function(t,i){N(i).parent().each((function(t,o){if("DEL"===N(o)[0].tagName)N(o).find(i).show();else if(N(o).find(i).each((function(){var t=a;"object"===e(a)&&(t=a.clone()),N(this).html(t).show(),N(document.body).trigger("uni_cpo_set_price_event",[t])})),r.isTaxable&&"hide"!==n){var l=N(o).find(r.taxPriceSuffixElClass),c=N(r.getProperTaxSuffix(n));l.replaceWith(c),c.show(),c.find("span").show()}else N(o).find(r.taxPriceSuffixElClass).hide()}))}))},setPriceTaxRevTo:function(t){var a=t.price;this.priceTaxRevTagEl.each((function(t,i){N(i).parent().each((function(t,n){"DEL"===N(n)[0].tagName?N(n).find(i).show():N(n).find(i).each((function(){var t=a;"object"===e(a)&&(t=a.clone()),N(this).html(t).show(),N(document.body).trigger("uni_cpo_set_price_tax_rev_event",[t])}))}))}))},showFirstThumbOnImageChange:function(){var e=N(".woocommerce-product-gallery").data("flexslider");void 0!==e&&e.flexslider(0)},showLastThumb:function(){var e=N(".flex-control-thumbs li").index(N(".flex-control-thumbs li:last"));N.flexslider&&N(".woocommerce-product-gallery").flexslider(e);var t=N(".woocommerce-product-gallery__wrapper").data("flickity");void 0!==t&&1<t.slides.length&&t.select(t.slides.length-1)},getProperPrice:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.price,a=void 0===t?"":t,i=e.doRemoveSuffix,n=void 0!==i&&i,r=this.priceStarting&&!a?this.priceStarting:a||unicpo.price_vars.price;return n||(r=this.priceSuffix?"".concat(this.priceSuffix," ").concat(r):r),r=this.pricePostfix?"".concat(r," ").concat(this.pricePostfix):r},getProperTaxSuffix:function(e){return"starting"===e?this.priceTaxSuffixStarting:"show"===e?unicpo.price_vars.price_tax_suffix:void 0},template:_.memoize((function(e){var t,a={evaluate:/\{#([\s\S]+?)#\}/g,interpolate:/\{\{\{([\s\S]+?)\}\}\}/g,escape:/\{\{([^\}]+?)\}\}(?!\})/g,variable:"data"};return function(i){return(t=t||_.template(N("#cpo-tmpl-"+e).html(),a))(i)}})),_blockForm:function(e){this._ajax_sent=!0,N(e).block({message:'<div data-loader="circle"></div>',css:{width:"auto",border:"0px"},overlayCSS:{background:"#fff",opacity:.6}})},_unblockForm:function(e,t){this._ajax_sent=!1,N(e).unblock()},isProp:function(e,t){return null!=e[t]&&void 0!==e[t]},isDateBetween:function(e,t,a){var i=Date.parse(e),n=Date.parse(t),r=Date.parse(a);return r>=i&&r<=n},fpdCompat:function(){var e=this,t=document.querySelectorAll(".fpdEnabled"),a={name:"",value:""};r(t).forEach((function(t){var i=t.querySelectorAll("input, select");r(i).forEach((function(t){return t.addEventListener("change",(function(t){var a=t.target,i=a.name,n=a.value;e.updateFpd(i,n)}))})),r(i).forEach((function(e){var t=e.name,i=e.value;i&&(a.name=t,a.value=i)}))})),setTimeout((function(){e.updateFpd.apply(e,r(Object.values(a)))}),1200)},updateFpd:function(t,a){if(!I(window.fpdProductCreated)){var i=window.fpdProductCreated,n=q(null,[t,"suboptions",a,"rate"],window.unicpoAllOptions);if(!I(n)&&i){fancyProductDesigner.toggleSpinner(!0,"loading product");var r={action:"fpd_load_product",product_id:n};N.post(unicpo.ajax_url,r,(function(t){if("object"===e(t)){if(0==t.length)return alert("The product does not exists or has no views!"),void fancyProductDesigner.toggleSpinner(!1);fancyProductDesigner.loadProduct(t,!0,!0)}else FPDUtil.showMessage("product loading failed")}),"json")}}}},z=function(){return Object.create(R)},window.UniCpo=z(),window.UniCpo._init(),window.Parsley.addValidator("maxFileSize",{validateString:function(e,t,a){if(!window.FormData)return console.log("The browser does not support this feature"),!0;0===t&&(t=unicpo.max_file_size);var i=a.$element[0].files;return 1!==i.length||i[0].size<=1024*t},requirementType:"integer",messages:{en:unicpo_i18n.max_file_size}}),window.Parsley.addValidator("mimeType",{validateString:function(e,t,a){var i=a.$element[0].files;return 0===i.length||(""===t&&(t=unicpo.mime_type),-1!==t.replace(/\s/g,"").split(",").indexOf(i[0].type))},requirementType:"string",messages:{en:unicpo_i18n.mime_type}}),window.Parsley.addValidator("greaterorequalthan",{requirementType:"string",validateNumber:function(e,t){return e>=N(t).val()},messages:{en:"This value should be greater or equal than %s"}}),window.Parsley.addValidator("greaterthan",{requirementType:"string",validateNumber:function(e,t){return e>N(t).val()},messages:{en:"This value should be greater than %s"}}),window.Parsley.addValidator("lessorequalthan",{requirementType:"string",validateNumber:function(e,t){return e<=N(t).val()},messages:{en:"This value should be less or equal than %s"}}),window.Parsley.addValidator("lessthan",{requirementType:"string",validateNumber:function(e,t){return e<N(t).val()},messages:{en:"This value should be less than %s"}}),window.Parsley.on("field:error",(function(){window.UniCpo.isSilentValidationOn&&this.removeError("required"),window.UniCpo.position(this.$element)})),window.uniData=function(e){return{data:e,init:function(){void 0!==e&&Object.assign(this,e)},checkExistance:function(e){return void 0!==this[e]},getLabel:function(e){return void 0!==unicpoAllOptions[e]&&void 0!==unicpoAllOptions[e].label?unicpoAllOptions[e].label:""},getCartLabel:function(e){return void 0!==unicpoAllOptions[e]&&void 0!==unicpoAllOptions[e].cartLabel?unicpoAllOptions[e].cartLabel:""},getSuboptionLabel:function(e){if(void 0!==unicpoAllOptions[e]&&void 0!==unicpoAllOptions[e].suboptions[this[e]])return unicpoAllOptions[e].suboptions[this[e]].label;if(void 0!==unicpoAllOptions[e]&&Array.isArray(this[e])){var t="";return this[e].forEach((function(a){t+=", ".concat(unicpoAllOptions[e].suboptions[a].label)})),t.substr(2)}return""},asPrice:function(e){return this.checkExistance(e)&&void 0!==this[e]?parseFloat(this[e]).toFixed(2):parseFloat(0).toFixed(2)},asNumber:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return this.checkExistance(e)&&void 0!==this[e]?parseFloat(this[e]).toFixed(t):parseFloat(0).toFixed(t)}}}})()})();